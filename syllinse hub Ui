--// Syllinse Hub UI Library
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local Syllinse = {}

-- Tween helper
local function tween(obj, props, t, style)
    TweenService:Create(obj, TweenInfo.new(t or 0.25, style or Enum.EasingStyle.Quint, Enum.EasingDirection.Out), props):Play()
end

function Syllinse:CreateWindow(title)
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "SyllinseUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = game:GetService("CoreGui")

    -- Main container
    local Main = Instance.new("Frame")
    Main.Size = UDim2.new(0, 450, 0, 320)
    Main.Position = UDim2.new(0.5, -225, 0.5, -160)
    Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Main.BorderSizePixel = 0
    Main.Active = true
    Main.Draggable = true
    Main.Parent = ScreenGui

    local MainCorner = Instance.new("UICorner", Main)
    MainCorner.CornerRadius = UDim.new(0, 16)

    local MainStroke = Instance.new("UIStroke", Main)
    MainStroke.Thickness = 2
    MainStroke.Color = Color3.fromRGB(255, 255, 255)
    MainStroke.Transparency = 0.2

    -- Top bar with logo + title
    local TopBar = Instance.new("Frame")
    TopBar.Size = UDim2.new(1, 0, 0, 50)
    TopBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    TopBar.Parent = Main
    local TopCorner = Instance.new("UICorner", TopBar)
    TopCorner.CornerRadius = UDim.new(0, 16)

    local Logo = Instance.new("ImageLabel")
    Logo.Size = UDim2.new(0, 40, 0, 40)
    Logo.Position = UDim2.new(0, 6, 0.5, -20)
    Logo.BackgroundTransparency = 1
    Logo.Image = "rbxassetid://109884256700214"
    Logo.Parent = TopBar

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -60, 1, 0)
    Title.Position = UDim2.new(0, 50, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = title or "Syllinse Hub"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 18
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = TopBar

    -- Minimize button
    local MinBtn = Instance.new("TextButton")
    MinBtn.Size = UDim2.new(0, 40, 0, 40)
    MinBtn.Position = UDim2.new(1, -45, 0.5, -20)
    MinBtn.BackgroundTransparency = 1
    MinBtn.Text = "-"
    MinBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
    MinBtn.Font = Enum.Font.GothamBold
    MinBtn.TextSize = 24
    MinBtn.Parent = TopBar

    local minimized = false
    MinBtn.MouseButton1Click:Connect(function()
        minimized = not minimized
        if minimized then
            tween(Main, {Size = UDim2.new(0, 450, 0, 50)}, 0.3)
        else
            tween(Main, {Size = UDim2.new(0, 450, 0, 320)}, 0.3)
        end
    end)

    -- Tab sidebar
    local TabBar = Instance.new("Frame")
    TabBar.Size = UDim2.new(0, 130, 1, -55)
    TabBar.Position = UDim2.new(0, 0, 0, 55)
    TabBar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    TabBar.Parent = Main

    local TabLayout = Instance.new("UIListLayout", TabBar)
    TabLayout.Padding = UDim.new(0, 6)
    TabLayout.SortOrder = Enum.SortOrder.LayoutOrder

    -- Pages container
    local Pages = Instance.new("Frame")
    Pages.Size = UDim2.new(1, -140, 1, -55)
    Pages.Position = UDim2.new(0, 140, 0, 55)
    Pages.BackgroundTransparency = 1
    Pages.Parent = Main

    local Window = {}
    local tabs = {}

    function Window:AddTab(name)
        local TabBtn = Instance.new("TextButton")
        TabBtn.Size = UDim2.new(1, -10, 0, 35)
        TabBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TabBtn.Text = name
        TabBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
        TabBtn.Font = Enum.Font.GothamSemibold
        TabBtn.TextSize = 14
        TabBtn.AutoButtonColor = false
        TabBtn.Parent = TabBar

        local BtnCorner = Instance.new("UICorner", TabBtn)
        BtnCorner.CornerRadius = UDim.new(0, 10)

        local Page = Instance.new("ScrollingFrame")
        Page.Size = UDim2.new(1, 0, 1, 0)
        Page.BackgroundTransparency = 1
        Page.CanvasSize = UDim2.new(0,0,0,0)
        Page.ScrollBarThickness = 3
        Page.Visible = false
        Page.Parent = Pages

        local List = Instance.new("UIListLayout", Page)
        List.Padding = UDim.new(0, 8)
        List.HorizontalAlignment = Enum.HorizontalAlignment.Center
        List.SortOrder = Enum.SortOrder.LayoutOrder

        tabs[name] = Page

        TabBtn.MouseButton1Click:Connect(function()
            for _, p in pairs(Pages:GetChildren()) do
                if p:IsA("ScrollingFrame") then
                    p.Visible = false
                end
            end
            Page.Visible = true
            for _, b in pairs(TabBar:GetChildren()) do
                if b:IsA("TextButton") then
                    tween(b, {BackgroundColor3 = Color3.fromRGB(30,30,30)}, 0.25)
                end
            end
            tween(TabBtn, {BackgroundColor3 = Color3.fromRGB(0, 200, 255)}, 0.25)
        end)

        -- Auto-select first
        if #Pages:GetChildren() == 1 then
            TabBtn:Activate()
        end

        local Tab = {}

        function Tab:AddButton(text, callback)
            local Btn = Instance.new("TextButton")
            Btn.Size = UDim2.new(0.9, 0, 0, 35)
            Btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            Btn.Text = text
            Btn.TextColor3 = Color3.fromRGB(230, 230, 230)
            Btn.Font = Enum.Font.GothamSemibold
            Btn.TextSize = 14
            Btn.AutoButtonColor = false
            Btn.Parent = Page

            local BtnCorner = Instance.new("UICorner", Btn)
            BtnCorner.CornerRadius = UDim.new(0, 10)

            Btn.MouseButton1Click:Connect(function()
                tween(Btn, {BackgroundColor3 = Color3.fromRGB(0,200,255)}, 0.15)
                task.wait(0.15)
                tween(Btn, {BackgroundColor3 = Color3.fromRGB(40,40,40)}, 0.15)
                if callback then callback() end
            end)
        end

        function Tab:AddToggle(text, default, callback)
            local state = default or false
            local Tgl = Instance.new("TextButton")
            Tgl.Size = UDim2.new(0.9, 0, 0, 35)
            Tgl.BackgroundColor3 = state and Color3.fromRGB(0,200,120) or Color3.fromRGB(50,50,50)
            Tgl.Text = text .. (state and " [ON]" or " [OFF]")
            Tgl.TextColor3 = Color3.fromRGB(230, 230, 230)
            Tgl.Font = Enum.Font.GothamSemibold
            Tgl.TextSize = 14
            Tgl.AutoButtonColor = false
            Tgl.Parent = Page

            local TCorner = Instance.new("UICorner", Tgl)
            TCorner.CornerRadius = UDim.new(0, 10)

            Tgl.MouseButton1Click:Connect(function()
                state = not state
                Tgl.Text = text .. (state and " [ON]" or " [OFF]")
                tween(Tgl, {
                    BackgroundColor3 = state and Color3.fromRGB(0,200,120) or Color3.fromRGB(50,50,50)
                }, 0.2)
                if callback then callback(state) end
            end)
        end

        return Tab
    end

    return Window
end

return Syllinse
